{% extends 'listings/base.html' %}
{% block title %}{{ seller_user.username }}님의 상점{% endblock %}

{% block content %}
<div class="space-y-4">
    <div>
        <p class="text-xs text-gray-400 mb-1">상점</p>
        <h1 class="text-xl font-semibold">
            {{ seller_user.username }}님의 상점
        </h1>
    </div>

    {% if listings %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for listing in listings %}
        <a href="{% url 'listings:listing_detail' listing.pk %}"
           class="block bg-white border border-gray-200 rounded-xl p-3 text-sm">

            {% with placeholder='https://placehold.co/300x200/e5e7eb/111?text='|add:listing.title|urlencode %}
            <div class="h-36 bg-gray-100 rounded-md overflow-hidden mb-2">
                <img src="{{ listing.image_url|default:placeholder }}"
                     class="w-full h-full object-cover"
                     onerror="this.onerror=null;this.src='{{ placeholder }}';">
            </div>
            {% endwith %}

            <h2 class="font-semibold text-gray-900 line-clamp-1 mb-1">{{ listing.title }}</h2>
            <p class="text-emerald-700 font-semibold text-base">
                {{ listing.price }} 원
            </p>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-white border border-dashed border-gray-300 rounded-xl py-16 text-center text-sm text-gray-500">
        등록된 물품이 없습니다.
    </div>
    {% endif %}
</div>
{% endblock %}
